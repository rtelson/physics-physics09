<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pierre Marie Curie Physics 9 ‚Äì A-380 Take-Off Roll</title>
  <style>
    body {
      margin: 0;
      background: #f5f5f5;
      font-family: Arial, sans-serif;
      color: #333;
      padding: 20px;
    }

    /* Title & Logo */
    .header {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 24px;
    }
    .header img {
      width: 120px;
      height: 120px;
      margin-bottom: 12px;
    }
    .header h1 {
      margin: 0;
      font-size: 1.6em;
    }

    /* Scenario & Input */
    .scenario {
      text-align: center;
      margin-bottom: 24px;
    }
    .scenario h2 {
      margin: 0 0 12px;
      font-size: 1.4em;
    }
    .scenario p {
      margin: 0 0 16px;
      max-width: 600px;
      line-height: 1.4;
    }
    .scenario label {
      font-size: 0.9em;
    }
    .scenario input {
      width: 100px;
      padding: 4px;
      font-size: 0.9em;
    }
    .scenario button {
      padding: 6px 12px;
      font-size: 0.9em;
      margin-left: 8px;
    }

    /* Result & Canvas */
    #takeoffResult {
      text-align: center;
      font-weight: bold;
      margin-bottom: 16px;
    }
    #runway {
      display: block;
      margin: 0 auto;
      background: #eee;
      border: 1px solid #999;
      border-radius: 8px;
    }
  </style>
</head>
<body>

  <!-- Logo & Title -->
  <div class="header">
    <img src="logo.svg" alt="School Logo" />
    <h1>Pierre Marie Curie Physics 9 ‚Äì Solving Kinematic Problems</h1>
  </div>

  <!-- Scenario & Input -->
  <div class="scenario">
    <h2>A-380 Take-Off Roll</h2>
    <p>
      An Airbus A-380 is lined up with the runway and is about to take off.<br>
      Take-off velocity: <strong>280 km/h</strong><br>
      Acceleration: <strong>1 m/s¬≤</strong><br>
      Calculate how long it takes to reach take-off speed.
    </p>
    <label for="studentTime">Your answer (seconds):</label>
    <input type="number" id="studentTime" step="0.1" />
    <button onclick="simulateTakeoff()">Submit</button>
  </div>

  <!-- Outcome & Runway Canvas -->
  <div id="takeoffResult"></div>
  <canvas id="runway" width="800" height="300"></canvas>

  <script>
    const canvas = document.getElementById('runway');
    const ctx = canvas.getContext('2d');
    const runwayLength = 3000;  // meters
    const a = 1;                // m/s¬≤

    let studentTime = 0;
    let startTime = null;

    function drawRunway() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Perspective sides
      ctx.strokeStyle = '#666';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(0, canvas.height);
      ctx.lineTo(canvas.width / 2, 0);
      ctx.lineTo(canvas.width, canvas.height);
      ctx.stroke();

      // Centerline dashes
      ctx.setLineDash([20, 20]);
      ctx.beginPath();
      ctx.moveTo(canvas.width / 2, canvas.height);
      ctx.lineTo(canvas.width / 2, 0);
      ctx.stroke();
      ctx.setLineDash([]);
    }

    function drawPlane(px) {
      ctx.font = '40px Arial';
      ctx.fillText('‚úàÔ∏è', px, canvas.height - 60);
    }

    function drawHUD(t, dist) {
      ctx.fillStyle = '#000';
      ctx.font = '16px Arial';
      ctx.fillText(`t: ${t.toFixed(1)} s`, 10, 20);
      ctx.fillText(`v: ${(a * t).toFixed(1)} m/s`, 10, 40);
      ctx.fillText(`d: ${dist.toFixed(1)} m`, 10, 60);
    }

    function showOutcome(elapsed, dist) {
      const resultDiv = document.getElementById('takeoffResult');

      if (elapsed < studentTime) {
        resultDiv.textContent = 'Too short! The plane stalls and crashes üî•';
      } else if (dist > runwayLength) {
        resultDiv.textContent = 'Too long! The plane overruns the runway üí•';
      } else {
        resultDiv.textContent = 'Perfect! The plane lifts off smoothly üéâ';
      }
    }

    function animate(now) {
      if (!startTime) startTime = now;
      const elapsed = (now - startTime) / 1000;              // seconds
      const dist = 0.5 * a * elapsed * elapsed;              // meters
      const px = (dist / runwayLength) * canvas.width;      // map meters‚Üípixels

      drawRunway();
      drawPlane(px);
      drawHUD(elapsed, dist);

      if (elapsed < studentTime && dist < runwayLength) {
        requestAnimationFrame(animate);
      } else {
        showOutcome(elapsed, dist);
      }
    }

    function simulateTakeoff() {
      const input = parseFloat(document.getElementById('studentTime').value);
      if (isNaN(input) || input <= 0) {
        return alert('Please enter a valid positive number of seconds.');
      }

      studentTime = input;
      document.getElementById('takeoffResult').textContent = '';
      startTime = null;
      requestAnimationFrame(animate);
    }
  </script>

</body>
</html>
